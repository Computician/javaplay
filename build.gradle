plugins {
    id 'com.github.johnrengelman.shadow' version '2.0.2'
}

group 'io.github.computician.enterprise'

apply plugin: 'application'
apply plugin: 'idea'
apply plugin: 'groovy'

sourceCompatibility = 1.8
targetCompatibility = 1.8

ext {
    configPath = "$rootProject.projectDir/config/"
    dropWizardVersion = '1.2.4'
    jacksonVersion = '2.9.4'
}
repositories {
    mavenCentral()
}
dependencies {
    testCompile group: 'junit', name: 'junit', version: '4.12'
    compile(
            'io.dropwizard:dropwizard-core:' + dropWizardVersion,
            'io.dropwizard:dropwizard-client:' + dropWizardVersion,
    )
}

mainClassName = 'io.github.computician.enterprise.MainApplication'

run {
    args 'server', configPath + 'config.yml'
}


shadowJar {
    mergeServiceFiles()
    classifier = null
    version = null
}
